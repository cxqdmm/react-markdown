{"version":3,"sources":["md/meet/Schedule/Scale/index.tsx","md/meet/Schedule/util.ts","md/meet/Schedule/Slider/Slice/index.tsx","md/meet/Schedule/index.tsx","md/meet/useForceUpdate.ts","md/meet/Schedule/Slider/Overlap/index.tsx","md/meet/Schedule/Slider/index.tsx","md/meet/Schedule/VirtualizedList.tsx","md/meet/index.tsx","router/util.ts","router/routeWithLayout.tsx","components/Layout/Navigator/index.tsx","components/Layout/index.tsx","components/Layout/Folder/index.tsx","components/MdView/index.tsx","router/index.tsx","App.tsx","index.tsx"],"names":["PREFIX","Scale","React","memo","props","max","min","step","className","scales","useMemo","data","cursor","index","push","value","length","text","textVisible","cls","map","scale","key","style","position","left","bottom","formatTime","n","s","slice","transformNum2Time","hour","Math","floor","minutes","mergeRanges","ranges","sort","a","b","merged","i","intersect","r1","r2","len1","setDocumentCursor","document","body","Slice","steps","parentWidth","onChange","cache","useReducer","useForceUpdate","useRef","useState","isActive","setIsActive","current","start","end","styles","right","handleClick","useCallback","e","stopPropagation","prev","handleExtrude","type","currentTarget","dataset","startX","clientX","moveMove","currentX","offset","nextLeft","nextRight","addEventListener","moveUp","removeEventListener","handleDrag","makeUp","abs","onMouseDown","onClick","data-type","Overlap","Slider","overlap","onDelete","wrapRef","width","setWidth","useEffect","getBoundingClientRect","range","handleRangeChange","ref","item","idx","createStepData","memoize","list","render","Row","rowData","areEqual","VirtualizedList","height","onRendered","handleRenderer","overflow","itemCount","onItemsRendered","itemData","itemKey","itemSize","initList","SchedulePanel","setList","visibleRange","setVisibleRange","updateOverlap","console","time","j","intersections","intersection","forEach","timeEnd","handleRendered","visibleStartIndex","visibleStopIndex","handleChange","handleDelete","splice","renderSlider","handleAdd","out","setTimeout","MeetPage","recoverPath","currentRoute","childRoutes","nextRoute","find","route","path","lastChildRoutePath","children","RedirectRoute","routes","pathname","location","redirectUrl","to","homePath","renderRouterWithChildren","parentRoute","childrenRender","child","CustomerRoute","Layout","layout","layoutProps","RouterComponent","component","restProps","ignoreCache","PrivateRoute","rest","Mavigator","matchedPath","routers","useLocation","router","includes","useRouterPathMatch","name","title","Folder","fold","setFold","MdView","md","view","dangerouslySetInnerHTML","__html","WEB_ROOT","process","getPath","RootRouter","undefined","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.8029a96f.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Scale';\nconst Scale: React.FC<{ max: number; min: number; step: number; className?: string }> = React.memo(\n  function Scale(props) {\n    const { max, min, step, className } = props;\n\n    const scales = useMemo(() => {\n      let data: Array<{ value: number; length: number; text: number; textVisible: boolean }> = [];\n      let cursor = min;\n      let index = 0;\n      while (cursor <= max) {\n        data.push({\n          value: cursor,\n          length: cursor / max,\n          text: cursor,\n          textVisible: !(index % 2),\n        });\n        index++;\n        cursor += step;\n      }\n      return data;\n    }, [max, min, step]);\n    return (\n      <div className={cls(className, `${PREFIX}`)}>\n        {scales.map((scale, key) => (\n          <div\n            key={key}\n            className={`${PREFIX}-pin`}\n            style={{\n              position: 'absolute',\n              left: `${scale.length * 100}%`,\n              bottom: 0,\n            }}\n          >\n            <span className={cls(`${PREFIX}-pinText`, { 'is-visible': scale.textVisible })}>\n              {scale.text}\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  },\n);\n\nexport default Scale;\n","//  0 < n < 24;\n\nimport { IRange } from './interface';\n\nfunction formatTime(n: number) {\n  const s = '00' + n;\n  return s.slice(s.length - 2);\n}\n\nexport function transformNum2Time(n: number) {\n  const hour = Math.floor(n / 60);\n  const minutes = n % 60;\n\n  return `${formatTime(hour)}:${formatTime(minutes)}:00`;\n}\n\nexport function transformRange2Time(range?: IRange) {\n  if (!range) return '';\n  return `${transformNum2Time(range[0])}~${transformNum2Time(range[1])}`;\n}\n\n// 合并区间\nexport function mergeRanges(ranges: IRange[]): IRange[] {\n  if (!ranges || !ranges.length) return [];\n  ranges.sort((a, b) => a[0] - b[0]);\n  let merged: IRange[] = [[...ranges[0]]];\n  for (let i = 1; i < ranges.length; i++) {\n    if (merged[merged.length - 1][1] >= ranges[i][0]) {\n      merged[merged.length - 1][1] = Math.max(merged[merged.length - 1][1], ranges[i][1]);\n    } else {\n      merged.push([...ranges[i]]);\n    }\n  }\n  return merged;\n}\n\n// 计算区间交集\nexport function intersect(r1: IRange, r2: IRange): IRange | undefined {\n  const len1 = r1[1] - r1[0] + (r2[1] - r2[0]);\n  const len2 = Math.max(r1[1], r2[1]) - Math.min(r1[0], r2[0]);\n  if (len2 < len1) {\n    return [Math.max(r1[0], r2[0]), Math.min(r1[1], r2[1])];\n  }\n  return undefined;\n}\n","import React, { CSSProperties, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useForceUpdate } from '../../../useForceUpdate';\nimport { transformRange2Time } from '../../util';\nimport { IRange } from '../../interface';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Slice';\n\nfunction setDocumentCursor(cursor: string) {\n  document.body.style.cursor = cursor;\n}\n\n/**\n * value: [start, end]     0 < start < end < steps;\n */\n\ninterface IItems {\n  className?: string;\n  value: IRange;\n  steps: number;\n  parentWidth: number;\n  onChange?: (value: IRange | undefined) => void;\n}\n\nexport const Slice: React.FC<IItems> = React.memo(function Slice(props) {\n  const { className, steps, value, parentWidth, onChange } = props;\n  const forceUpdate = useForceUpdate();\n\n  const cache = useRef<IRange>(value);\n  const [isActive, setIsActive] = useState<boolean>(false);\n  useMemo(() => {\n    cache.current = value;\n  }, [value]);\n\n  const [start, end] = cache.current;\n\n  const styles = useMemo(() => {\n    return {\n      left: `${(start / steps) * 100}%`,\n      right: `${(1 - end / steps) * 100}%`,\n    } as CSSProperties;\n  }, [end, start, steps]);\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsActive((prev) => !prev);\n  }, []);\n\n  const handleExtrude = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      // @ts-ignore\n      const type = e.currentTarget.dataset.type;\n      // 起点\n      let startX = e.clientX;\n      function moveMove(e: MouseEvent) {\n        let currentX = e.clientX,\n          offset = Math.floor(((currentX - startX) / parentWidth) * steps),\n          nextLeft = cache.current[0],\n          nextRight = cache.current[1];\n        startX = currentX;\n        if (type === 'left') {\n          nextLeft += offset;\n          nextLeft = Math.min(Math.max(0, nextLeft), nextRight);\n        } else {\n          nextRight += offset;\n          nextRight = Math.min(steps, Math.max(nextRight, nextLeft));\n        }\n        setDocumentCursor('w-resize');\n        cache.current = [nextLeft, nextRight];\n        onChange?.(cache.current);\n        // forceUpdate();\n      }\n\n      function moveUp() {\n        onChange?.(cache.current);\n        document.removeEventListener('mousemove', moveMove);\n        document.removeEventListener('mouseup', moveUp);\n        setDocumentCursor('initial');\n      }\n      document.addEventListener('mousemove', moveMove);\n      document.addEventListener('mouseup', moveUp);\n    },\n    [onChange, steps, parentWidth],\n  );\n\n  const handleDrag = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      // 起点\n      let startX = e.clientX;\n      function moveMove(e: MouseEvent) {\n        let currentX = e.clientX,\n          offset = Math.floor(((currentX - startX) / parentWidth) * steps),\n          nextLeft = cache.current[0],\n          nextRight = cache.current[1];\n        startX = currentX;\n\n        nextLeft += offset;\n        nextRight += offset;\n        let makeUp = 0;\n        if (nextLeft < 0) {\n          makeUp = Math.abs(nextLeft);\n        }\n        if (nextRight > steps) {\n          makeUp = steps - nextRight;\n        }\n        nextLeft += makeUp;\n        nextRight += makeUp;\n        cache.current = [nextLeft, nextRight];\n        onChange?.(cache.current);\n      }\n\n      function moveUp() {\n        onChange?.(cache.current);\n        document.removeEventListener('mousemove', moveMove);\n        document.removeEventListener('mouseup', moveUp);\n        setDocumentCursor('initial');\n      }\n      document.addEventListener('mousemove', moveMove);\n      document.addEventListener('mouseup', moveUp);\n    },\n    [onChange, parentWidth, steps],\n  );\n\n  return (\n    <div\n      style={styles}\n      className={cls(`${PREFIX}`, className, { 'is-active': isActive })}\n      onMouseDown={handleDrag}\n      onClick={handleClick}\n    >\n      <span\n        className={cls(`${PREFIX}-leftDrag`, { 'is-visible': isActive })}\n        data-type=\"left\"\n        onMouseDown={handleExtrude}\n      ></span>\n      <span\n        className={cls(`${PREFIX}-rightDrag`, { 'is-visible': isActive })}\n        data-type=\"right\"\n        onMouseDown={handleExtrude}\n      ></span>\n    </div>\n  );\n});\n","import { IRange } from './interface';\nimport React, { useCallback, useState } from 'react';\nimport Scale from './Scale';\nimport Slide from './Slider';\nimport cls from 'classnames';\nimport './index.less';\nimport VirtualizedList from './VirtualizedList';\nimport { ListOnItemsRenderedProps } from 'react-window';\nimport { intersect, mergeRanges } from './util';\nimport { forEach } from 'lodash';\n\nconst PREFIX = 'SchedulePanel';\n\ninterface IProps {\n  className?: string;\n  onChange?: (value: Array<IRange>) => void;\n}\n\nlet initList: ISlice[] = [];\nfor (let i = 0; i < 10000; i++) {\n  initList.push({\n    overlap: [],\n    value: [0, 480],\n  });\n}\n\nfunction createDefaultSlice() {\n  return {\n    overlap: [],\n    value: [0, 480],\n  } as ISlice;\n}\ninterface ISlice {\n  overlap: IRange[];\n  value: IRange;\n}\n\nconst SchedulePanel: React.FC<IProps> = React.memo(function TimePeriod(props) {\n  const { className, onChange } = props;\n  const [list, setList] = useState<ISlice[]>([]);\n  const [visibleRange, setVisibleRange] = useState<[number, number]>([0, 0]);\n\n  const updateOverlap = useCallback((list: ISlice[], visibleRange: [number, number]) => {\n    //开始计算重叠区域;\n    if (list.length) {\n      console.time('更新重叠区域');\n      const ranges = [];\n      const start = visibleRange[0],\n        end = visibleRange[1];\n      for (let i = 0; i < start; i++) {\n        ranges.push(list[i].value);\n      }\n      for (let j = end + 1; j < list.length; j++) {\n        ranges.push(list[j].value);\n      }\n      // 合并可视区域外的时间段\n      const merged = mergeRanges(ranges);\n      // 更新可视区时间段的overlap\n      for (let i = start; i <= end; i++) {\n        let intersections: IRange[] = [];\n        // 计算与可视区其他时间段的交集\n        for (let j = start; j <= end; j++) {\n          if (j === i) continue;\n          const intersection = intersect(list[i].value, list[j].value);\n          intersection && intersections.push(intersection);\n        }\n        // 计算与非可视区的交集\n        forEach(merged, (item) => {\n          const intersection = intersect(list[i].value, item);\n          intersection && intersections.push(intersection);\n        });\n        const overlap = mergeRanges(intersections);\n        list[i].overlap = overlap;\n      }\n      console.timeEnd('更新重叠区域');\n      setList([...list]);\n    }\n  }, []);\n\n  const handleRendered = useCallback(\n    ({ visibleStartIndex, visibleStopIndex }: ListOnItemsRenderedProps) => {\n      setVisibleRange([visibleStartIndex, visibleStopIndex]);\n      updateOverlap(list, [visibleStartIndex, visibleStopIndex]);\n    },\n    [list, updateOverlap],\n  );\n\n  const handleChange = useCallback(\n    (item: IRange, index: number) => {\n      setList((list) => {\n        list[index].value = item;\n        return [...list];\n      });\n      updateOverlap(list, visibleRange);\n    },\n    [list, updateOverlap, visibleRange],\n  );\n\n  const handleDelete = useCallback((index: number) => {\n    setList((list) => {\n      list.splice(index, 1);\n      return [...list];\n    });\n  }, []);\n\n  const renderSlider = useCallback(\n    (item: ISlice, index: number) => {\n      return (\n        <Slide\n          className={`${PREFIX}-slide`}\n          onChange={(value: IRange) => handleChange(value, index)}\n          onDelete={() => handleDelete(index)}\n          index={index}\n          value={item.value}\n          overlap={item.overlap}\n          steps={1440}\n        />\n      );\n    },\n    [handleChange, handleDelete],\n  );\n\n  const handleAdd = useCallback(() => {\n    setList((list) => {\n      const out = [...list, createDefaultSlice()];\n      setTimeout(() => {\n        updateOverlap(out, visibleRange);\n      }, 0);\n      return out;\n    });\n  }, [updateOverlap, visibleRange]);\n\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <div>\n        <div className={`${PREFIX}-header`}>\n          <Scale className={`${PREFIX}-scale`} max={24} min={0} step={1} />\n          <div className={`${PREFIX}-footer`}>\n            <div className={`${PREFIX}-add`} onClick={handleAdd}>\n              +\n            </div>\n          </div>\n        </div>\n      </div>\n      <VirtualizedList height={600} list={list} render={renderSlider} onRendered={handleRendered} />\n    </div>\n  );\n});\n\nexport default SchedulePanel;\n","import { ReducerWithoutAction, useReducer } from 'react';\nexport const useForceUpdate = () => {\n  const [, setReload] = useReducer<ReducerWithoutAction<number>, number>(\n    value => value + 1,\n    0,\n    value => value,\n  );\n  return setReload;\n};\n","import React, { CSSProperties, useMemo } from 'react';\nimport { IRange } from '../../interface';\nimport './index.less';\n\nconst PREFIX = 'Overlap';\n\ninterface IItems {\n  className?: string;\n  value: IRange;\n  steps: number;\n}\n\nexport const Overlap: React.FC<IItems> = React.memo(function Slice(props) {\n  const { steps, value } = props;\n  const [start, end] = value;\n\n  const styles = useMemo(() => {\n    return {\n      left: `${(start / steps) * 100}%`,\n      right: `${(1 - end / steps) * 100}%`,\n    } as CSSProperties;\n  }, [end, start, steps]);\n\n  return <div style={styles} className={PREFIX}></div>;\n});\n","import React, { CSSProperties, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useForceUpdate } from '../../useForceUpdate';\nimport { transformRange2Time } from '../util';\nimport { IRange } from '../interface';\nimport cls from 'classnames';\nimport './index.less';\nimport { Slice } from './Slice';\nimport { map } from 'lodash';\nimport { Overlap } from './Overlap';\n\nconst PREFIX = 'Slider';\n\ninterface IProps {\n  className?: string;\n  value?: IRange;\n  overlap?: IRange[];\n  steps?: number;\n  index: number;\n  onChange?: (value: IRange) => void;\n  onDelete?: () => void;\n}\n\nconst Slider: React.FC<IProps> = React.memo(function Slider(props) {\n  const { className, steps = 1440, value, onChange, index, overlap, onDelete } = props;\n  const wrapRef = useRef<HTMLDivElement>(null);\n  const [width, setWidth] = useState<number>(0);\n  useEffect(() => {\n    if (wrapRef.current) {\n      const { width } = wrapRef.current.getBoundingClientRect();\n      setWidth(width);\n    }\n  }, []);\n  const handleRangeChange = useCallback(\n    (value) => {\n      if (value) {\n        onChange?.(value);\n      }\n    },\n    [onChange],\n  );\n\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <div className={cls(`${PREFIX}-body`, className)} ref={wrapRef}>\n        {value && (\n          <Slice value={value} steps={steps} parentWidth={width} onChange={handleRangeChange} />\n        )}\n        {map(overlap, (item, idx) => (\n          <Overlap key={idx} value={item} steps={steps} />\n        ))}\n      </div>\n      <div className={`${PREFIX}-footer`}>\n        <span>{index}</span>\n        <span className={`${PREFIX}-time`}>{transformRange2Time(value)}</span>\n        <span className={`${PREFIX}-delete`} onClick={onDelete}>\n          x\n        </span>\n      </div>\n    </div>\n  );\n});\n\nexport default Slider;\n","import { ListOnItemsRenderedProps, areEqual, VariableSizeList as List } from 'react-window';\nimport React, { useCallback } from 'react';\nimport cls from 'classnames';\nimport memoize from 'memoize-one';\n\nconst PREFIX = 'VirtualizedList';\n\ninterface IProps {\n  className?: string;\n  render: (item: any, index: number) => React.ReactNode;\n  height: number;\n  onRendered: (data: ListOnItemsRenderedProps) => void;\n  list: any[];\n}\n\nconst createStepData = memoize((list: any[], render: IProps['render']) => ({\n  list,\n  render,\n}));\n\nconst Row = React.memo(\n  ({\n    data: rowData,\n    index,\n    style,\n  }: {\n    data: ReturnType<typeof createStepData>;\n    index: number;\n    style: any;\n  }) => {\n    const { list, render } = rowData;\n    const data = list[index];\n\n    return (\n      <div style={style} key={index}>\n        {render(data, index)}\n      </div>\n    );\n  },\n  areEqual,\n);\n\nconst VirtualizedList: React.FC<IProps> = React.memo(function VirtualizedList(props) {\n  const { className, list, render, height, onRendered } = props;\n  const data = createStepData(list, render);\n\n  const itemKey = (index: number) => {\n    return index;\n  };\n  const itemSize = () => {\n    return 40;\n  };\n\n  const handleRenderer = useCallback(\n    (props: ListOnItemsRenderedProps) => {\n      onRendered(props);\n    },\n    [onRendered],\n  );\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <List\n        style={{ overflow: 'overlay' }}\n        className={`${PREFIX}-list`}\n        height={height}\n        itemCount={list.length}\n        onItemsRendered={handleRenderer}\n        itemData={data}\n        itemKey={itemKey}\n        itemSize={itemSize}\n        width=\"100%\"\n      >\n        {Row}\n      </List>\n    </div>\n  );\n});\n\nexport default VirtualizedList;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport SchedulePanel from './Schedule';\n\nconst PREFIX = 'MeetPage';\n\ninterface IProps {\n  className?: string;\n}\n\nconst MeetPage: React.FC<IProps> = React.memo(function MeetPage(props) {\n  const { className } = props;\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <SchedulePanel />\n    </div>\n  );\n});\n\nexport default MeetPage;\n","import { IRoute } from './interface';\nimport { find } from 'lodash';\n\nexport const recoverPath: (currentRoute?: IRoute, childRoutes?: IRoute[]) => string = (\n  currentRoute,\n  childRoutes,\n) => {\n  if (currentRoute && childRoutes?.length) {\n    const matchedChildRoute = find(\n      childRoutes,\n      (route) => route.path === currentRoute?.lastChildRoutePath,\n    );\n\n    const nextRoute = matchedChildRoute || childRoutes[0];\n    return recoverPath(nextRoute, nextRoute.children);\n  }\n  return currentRoute?.path || '';\n};\n","import { IRoute } from './interface';\nimport { Redirect, Route, RouteComponentProps, RouteProps, Switch } from 'react-router-dom';\nimport { map } from 'lodash';\nimport { recoverPath } from './util';\nimport React from 'react';\nimport { homePath } from '.';\n\ntype IRouteWithLayoutProps = Omit<RouteProps, 'component' | 'render' | 'children'> & {\n  childrenRender: React.ReactNode;\n  childRoutes?: IRoute[];\n  parentRoute?: IRoute;\n  route?: IRoute;\n} & Partial<IRoute>;\n\nconst RedirectRoute: React.FC<\n  Partial<RouteComponentProps> & {\n    routes?: IRoute[];\n    route?: IRoute;\n  }\n> = React.memo(function ({ route, routes, location }) {\n  const { pathname } = location || {};\n  const redirectUrl = recoverPath(route, routes);\n  if (redirectUrl !== pathname) {\n    return <Redirect to={redirectUrl || homePath} />;\n  }\n  return <Redirect to={homePath} />;\n});\n\nexport const renderRouterWithChildren = (\n  route: IRoute | undefined,\n  children?: IRoute[],\n  parentRoute?: IRoute,\n) => {\n  const childrenRender = children ? (\n    <Switch>\n      {map(children, (child, index) => {\n        return renderRouterWithChildren(child, child.children, route);\n      })}\n      <RedirectRoute routes={children} route={route} />\n    </Switch>\n  ) : null;\n\n  return (\n    <CustomerRoute\n      childrenRender={childrenRender}\n      {...route}\n      route={route}\n      parentRoute={parentRoute}\n      childRoutes={children}\n    />\n  );\n};\n\nconst CustomerRoute: React.FC<IRouteWithLayoutProps> = React.memo(function CustomerRoute(props) {\n  const {\n    childrenRender,\n    route,\n    parentRoute,\n    childRoutes,\n    layout: Layout,\n    layoutProps,\n    children,\n    component: RouterComponent,\n    ...restProps\n  } = props;\n\n  if (parentRoute && !parentRoute.ignoreCache) {\n    parentRoute.lastChildRoutePath = route?.path;\n  }\n  if (!route) {\n    return childrenRender as React.ReactElement;\n  }\n\n  if (!childRoutes) {\n    if (RouterComponent) {\n      if (Layout) {\n        return (\n          <PrivateRoute\n            {...restProps}\n            render={() => (\n              <Layout route={route} {...layoutProps}>\n                <RouterComponent {...restProps} />\n              </Layout>\n            )}\n          />\n        );\n      }\n      return <PrivateRoute {...restProps} render={() => <RouterComponent {...restProps} />} />;\n    }\n  }\n\n  if (childRoutes) {\n    if (Layout) {\n      return (\n        <PrivateRoute\n          {...restProps}\n          render={() => (\n            <Layout childRoutes={childRoutes} route={route} {...layoutProps}>\n              {childrenRender}\n            </Layout>\n          )}\n        />\n      );\n    }\n  }\n  return childrenRender as React.ReactElement;\n});\ntype PrivateRouteProps = Required<Pick<RouteProps, 'render'>> &\n  Omit<RouteProps, 'component' | 'render'>;\nexport const PrivateRoute = ({ render, ...rest }: PrivateRouteProps) => {\n  return <Route {...rest} render={render} />;\n};\n","import { Link } from 'react-router-dom';\nimport { find } from 'lodash';\nimport { useLocation } from 'react-router';\nimport React, { useMemo } from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport { IRoute } from '../../../router/interface';\n\nconst PREFIX = 'Mavigator';\n\ninterface IProps {\n  className?: string;\n  childRoutes: IRoute[];\n}\n\nconst useRouterPathMatch = (routers: IRoute[]) => {\n  const location = useLocation();\n  const router = useMemo(() => {\n    return find(routers, (router) => location.pathname.includes(router.path));\n  }, [location.pathname, routers]);\n  return router?.path;\n};\n\nconst Mavigator: React.FC<IProps> = React.memo(function AppThirdNavigator(props) {\n  const { className, childRoutes } = props;\n  const matchedPath = useRouterPathMatch(childRoutes);\n\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      {childRoutes.map((router) =>\n        matchedPath === router.path ? (\n          <span className={cls(`${PREFIX}-item`, 'is-active')}>\n            {router.name}\n            <div className={`${PREFIX}-activeBar`} />\n          </span>\n        ) : (\n          <Link className={cls(`${PREFIX}-item`)} key={router.path} to={router.path}>\n            {router.name}\n            <div className={`${PREFIX}-activeBar`} />\n          </Link>\n        ),\n      )}\n    </div>\n  );\n});\n\nexport default Mavigator;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport { IRoute } from '../../router/interface';\nimport Navigator from './Navigator';\n\nconst PREFIX = 'Layout';\n\ninterface IProps {\n  title?: React.ReactNode;\n  route?: IRoute;\n  childRoutes: IRoute[];\n}\n\nconst Layout: React.FC<IProps> = React.memo(function Layout(props) {\n  const { title, childRoutes, children } = props;\n  return (\n    <div className={cls(`${PREFIX}`)}>\n      <div className={`${PREFIX}-head`}>\n        <span className={`${PREFIX}-headTitle`}>{title}</span>\n      </div>\n      <div className={`${PREFIX}-body`}>\n        <div className={`${PREFIX}-bodyLeft`}>\n          <Navigator childRoutes={childRoutes} />\n        </div>\n        <div className={`${PREFIX}-bodyRight`}>{children}</div>\n      </div>\n    </div>\n  );\n});\n\nexport default Layout;\n","import React, { useState } from 'react';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Folder';\n\ninterface IProps {\n  className?: string;\n}\n\nconst Folder: React.FC<IProps> = React.memo(function Folder(props) {\n  const { className, children } = props;\n  const [fold, setFold] = useState<boolean>(false);\n  const handleFold = () => {\n    setFold((prev) => !prev);\n  };\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <div className={`${PREFIX}-foldBtn`} onClick={handleFold}>\n        {fold ? '展开' : '收起'}\n      </div>\n      {!fold ? <div className={`${PREFIX}-body`}>{children}</div> : null}\n    </div>\n  );\n});\n\nexport default Folder;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport Folder from '../Layout/Folder';\n\nconst PREFIX = 'MdView';\n\ninterface IProps {\n  className?: string;\n  md?: string;\n  view?: React.ReactNode;\n}\n\nconst MdView: React.FC<IProps> = React.memo(function MdView(props) {\n  const isDevelopment = process.env.NODE_ENV === 'development';\n  const { className, md, view } = props;\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <Folder className={`${PREFIX}-body`}>{view}</Folder>\n      {md && (\n        <Folder className={`${PREFIX}-md`}>\n          <div dangerouslySetInnerHTML={{ __html: md }}></div>\n        </Folder>\n      )}\n    </div>\n  );\n});\n\nexport default MdView;\n","import home from '../md/home/index.md';\nimport useEffect from '../md/useEffect/index.md';\nimport UseEffectView from '../md/useEffect';\nimport useContext from '../md/useContext/index.md';\nimport UseContextView from '../md/useContext';\nimport Meet from '../md/meet';\nimport { Switch, Redirect, BrowserRouter } from 'react-router-dom';\nimport { renderRouterWithChildren } from './routeWithLayout';\nimport Layout from '../components/Layout';\nimport React from 'react';\nimport MdView from '../components/MdView';\nimport { IRoute } from './interface';\n\nconst WEB_ROOT = process.env.WEB_ROOT || '/';\n\nfunction getPath(path: string) {\n  return `${WEB_ROOT}${path}`;\n}\n\nexport const homePath = getPath('/home');\nconst routes: IRoute[] = [\n  {\n    path: WEB_ROOT,\n    layout: Layout,\n    layoutProps: { title: '' },\n    ignoreCache: true,\n    children: [\n      // {\n      //   path: homePath,\n      //   name: 'home',\n      //   component: () => <MdView md={home} />,\n      // },\n      // {\n      //   path: getPath('/useEffect'),\n      //   name: 'useEffect',\n      //   component: () => <MdView md={useEffect} view={<UseEffectView />} />,\n      // },\n      // {\n      //   path: getPath('/useContext'),\n      //   name: 'useContext',\n      //   component: () => <MdView md={useContext} view={<UseContextView />} />,\n      // },\n      {\n        path: getPath('/meet'),\n        name: '会议预定',\n        component: () => <MdView view={<Meet />} />,\n      },\n    ],\n  },\n];\n\nconst RootRouter = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        {renderRouterWithChildren(undefined, routes)}\n        <Redirect to={homePath} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default RootRouter;\n","import React from 'react';\nimport RootRouter from './router';\nimport './index.less';\n\nconst App: React.FC = React.memo(function App(props) {\n  return <RootRouter />;\n});\n\nexport default App;\nconst a = 1;\nconst b = 2;\nconst c = 3;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Demo from './md/useContext/scene/demo';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// ReactDOM.render(<Demo />, document.getElementById('root'));\n"],"sourceRoot":""}