{"version":3,"sources":["md/meet/Schedule/Scale/index.tsx","md/meet/Schedule/util.ts","md/meet/Schedule/Slide/index.tsx","md/meet/useForceUpdate.ts","md/meet/Schedule/index.tsx","md/meet/index.tsx","router/util.ts","router/routeWithLayout.tsx","components/Layout/Navigator/index.tsx","components/Layout/index.tsx","components/Layout/Folder/index.tsx","components/MdView/index.tsx","router/index.tsx","App.tsx","index.tsx"],"names":["PREFIX","Scale","React","memo","props","max","min","step","className","scales","useMemo","data","cursor","index","push","value","length","text","textVisible","cls","map","scale","key","style","position","left","bottom","formatTime","n","s","slice","transformNum2Time","hour","Math","floor","minutes","setDocumentCursor","document","body","Slide","steps","onChange","wrapRef","useRef","useState","width","setWidth","useEffect","current","getBoundingClientRect","handleRangeChange","useCallback","ref","parentWidth","Slice","forceUpdate","useReducer","useForceUpdate","cache","isActive","setIsActive","range","start","end","styles","right","handleClick","e","stopPropagation","prev","handleExtrude","type","currentTarget","dataset","startX","clientX","moveMove","currentX","offset","nextLeft","nextRight","addEventListener","moveUp","removeEventListener","handleDrag","makeUp","abs","onMouseDown","onClick","data-type","SchedulePanel","MeetPage","recoverPath","currentRoute","childRoutes","nextRoute","find","route","path","lastChildRoutePath","children","RedirectRoute","routes","pathname","location","redirectUrl","to","homePath","renderRouterWithChildren","parentRoute","childrenRender","child","CustomerRoute","Layout","layout","layoutProps","RouterComponent","component","restProps","ignoreCache","render","PrivateRoute","rest","Mavigator","matchedPath","routers","useLocation","router","includes","useRouterPathMatch","name","title","Folder","fold","setFold","MdView","md","view","dangerouslySetInnerHTML","__html","WEB_ROOT","process","getPath","RootRouter","undefined","App","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.02d5609f.chunk.js","sourcesContent":["import React, { useMemo } from 'react';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Scale';\nconst Scale: React.FC<{ max: number; min: number; step: number; className?: string }> = React.memo(\n  function Scale(props) {\n    const { max, min, step, className } = props;\n\n    const scales = useMemo(() => {\n      let data: Array<{ value: number; length: number; text: number; textVisible: boolean }> = [];\n      let cursor = min;\n      let index = 0;\n      while (cursor <= max) {\n        data.push({\n          value: cursor,\n          length: cursor / max,\n          text: cursor,\n          textVisible: !(index % 2),\n        });\n        index++;\n        cursor += step;\n      }\n      return data;\n    }, [max, min, step]);\n    return (\n      <div className={cls(className, `${PREFIX}`)}>\n        {scales.map((scale, key) => (\n          <div\n            key={key}\n            className={`${PREFIX}-pin`}\n            style={{\n              position: 'absolute',\n              left: `${scale.length * 100}%`,\n              bottom: 0,\n            }}\n          >\n            <span className={cls(`${PREFIX}-pinText`, { 'is-visible': scale.textVisible })}>\n              {scale.text}\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  },\n);\n\nexport default Scale;\n","//  0 < n < 24;\n\nimport { IRange } from './interface';\n\nfunction formatTime(n: number) {\n  const s = '00' + n;\n  return s.slice(s.length - 2);\n}\n\nexport function transformNum2Time(n: number) {\n  const hour = Math.floor(n / 60);\n  const minutes = n % 60;\n\n  return `${formatTime(hour)}:${formatTime(minutes)}:00`;\n}\n\n// export function timeStrToNum(n: string) {\n//   const [s1, s2, s3] = n.split(':');\n//   const n1 = parseInt(s1);\n//   const n2 = parseInt(s2) / 60;\n//   const n3 = parseInt(s3) / 600;\n\n//   return n1 + n2 + n3s\n// }\n\nexport function transformRange2Time(range: IRange) {\n  return `${transformNum2Time(range[0])}~${transformNum2Time(range[1])}`;\n}\n","import React, { CSSProperties, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useForceUpdate } from '../../useForceUpdate';\nimport { transformRange2Time } from '../util';\nimport { IRange } from '../interface';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Slide';\n\ninterface IProps {\n  className?: string;\n  value?: IRange;\n  steps?: number;\n  onChange?: (value: IRange) => void;\n}\n\nfunction setDocumentCursor(cursor: string) {\n  document.body.style.cursor = cursor;\n}\nconst Slide: React.FC<IProps> = React.memo(function Slide(props) {\n  const { className, steps = 1440, value: slice, onChange } = props;\n  const wrapRef = useRef<HTMLDivElement>(null);\n  const [width, setWidth] = useState<number>(0);\n  useEffect(() => {\n    if (wrapRef.current) {\n      const { width } = wrapRef.current.getBoundingClientRect();\n      setWidth(width);\n    }\n  }, []);\n  const handleRangeChange = useCallback(\n    (value) => {\n      if (value) {\n        onChange?.(value);\n      }\n    },\n    [onChange],\n  );\n\n  return (\n    <div className={cls(`${PREFIX}`, className)} ref={wrapRef}>\n      {slice && (\n        <Slice value={slice} steps={steps} parentWidth={width} onChange={handleRangeChange} />\n      )}\n    </div>\n  );\n});\n\nexport default Slide;\n\n/**\n * value: [start, end]     0 < start < end < steps;\n */\ninterface IItems {\n  className?: string;\n  value: IRange;\n  steps: number;\n  parentWidth: number;\n  onChange?: (value: IRange | undefined) => void;\n}\n\nconst Slice: React.FC<IItems> = React.memo(function Slice(props) {\n  const { className, steps, value, parentWidth, onChange } = props;\n  const forceUpdate = useForceUpdate();\n\n  const cache = useRef<IRange>(value);\n  const [isActive, setIsActive] = useState<boolean>(false);\n  useMemo(() => {\n    cache.current = value;\n  }, [value]);\n\n  const [start, end] = cache.current;\n\n  const styles = useMemo(() => {\n    return {\n      left: `${(start / steps) * 100}%`,\n      right: `${(1 - end / steps) * 100}%`,\n    } as CSSProperties;\n  }, [end, start, steps]);\n\n  const handleClick = useCallback((e: React.MouseEvent) => {\n    e.stopPropagation();\n    setIsActive((prev) => !prev);\n  }, []);\n\n  const handleExtrude = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      // @ts-ignore\n      const type = e.currentTarget.dataset.type;\n      // 起点\n      let startX = e.clientX;\n      function moveMove(e: MouseEvent) {\n        let currentX = e.clientX,\n          offset = Math.floor(((currentX - startX) / parentWidth) * steps),\n          nextLeft = cache.current[0],\n          nextRight = cache.current[1];\n        startX = currentX;\n        if (type === 'left') {\n          nextLeft += offset;\n          nextLeft = Math.min(Math.max(0, nextLeft), nextRight);\n        } else {\n          nextRight += offset;\n          nextRight = Math.min(steps, Math.max(nextRight, nextLeft));\n        }\n        setDocumentCursor('w-resize');\n        cache.current = [nextLeft, nextRight];\n        forceUpdate();\n      }\n\n      function moveUp() {\n        onChange?.(cache.current);\n        document.removeEventListener('mousemove', moveMove);\n        document.removeEventListener('mouseup', moveUp);\n        setDocumentCursor('initial');\n      }\n      document.addEventListener('mousemove', moveMove);\n      document.addEventListener('mouseup', moveUp);\n    },\n    [forceUpdate, onChange, steps, parentWidth],\n  );\n\n  const handleDrag = useCallback(\n    (e: React.MouseEvent) => {\n      e.stopPropagation();\n      // 起点\n      let startX = e.clientX;\n      function moveMove(e: MouseEvent) {\n        let currentX = e.clientX,\n          offset = Math.floor(((currentX - startX) / parentWidth) * steps),\n          nextLeft = cache.current[0],\n          nextRight = cache.current[1];\n        startX = currentX;\n\n        nextLeft += offset;\n        nextRight += offset;\n        let makeUp = 0;\n        if (nextLeft < 0) {\n          makeUp = Math.abs(nextLeft);\n        }\n        if (nextRight > steps) {\n          makeUp = steps - nextRight;\n        }\n        nextLeft += makeUp;\n        nextRight += makeUp;\n        cache.current = [nextLeft, nextRight];\n        forceUpdate();\n      }\n\n      function moveUp() {\n        onChange?.(cache.current);\n        document.removeEventListener('mousemove', moveMove);\n        document.removeEventListener('mouseup', moveUp);\n        setDocumentCursor('initial');\n      }\n      document.addEventListener('mousemove', moveMove);\n      document.addEventListener('mouseup', moveUp);\n    },\n    [forceUpdate, onChange, parentWidth, steps],\n  );\n\n  return (\n    <div\n      style={styles}\n      className={cls(`${PREFIX}-slice`, className, { 'is-active': isActive })}\n      onMouseDown={handleDrag}\n      onClick={handleClick}\n    >\n      <span\n        className={cls(`${PREFIX}-sliceLeftDrag`, { 'is-visible': isActive })}\n        data-type=\"left\"\n        onMouseDown={handleExtrude}\n      ></span>\n      <span\n        className={cls(`${PREFIX}-sliceRightDrag`, { 'is-visible': isActive })}\n        data-type=\"right\"\n        onMouseDown={handleExtrude}\n      ></span>\n      <div className={cls(`${PREFIX}-sliceTip`, { 'is-visible': isActive })}>\n        {transformRange2Time(cache.current)}\n      </div>\n    </div>\n  );\n});\n","import { ReducerWithoutAction, useReducer } from 'react';\nexport const useForceUpdate = () => {\n  const [, setReload] = useReducer<ReducerWithoutAction<number>, number>(\n    value => value + 1,\n    0,\n    value => value,\n  );\n  return setReload;\n};\n","import { IRange } from './interface';\nimport React from 'react';\nimport Scale from './Scale';\nimport Slide from './Slide';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'SchedulePanel';\n\ninterface IProps {\n  className?: string;\n  onChange?: (value: Array<IRange>) => void;\n}\n\nconst SchedulePanel: React.FC<IProps> = React.memo(function TimePeriod(props) {\n  const { className, onChange } = props;\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <Scale className={`${PREFIX}-scale`} max={24} min={0} step={1} />\n      <Slide className={`${PREFIX}-slide`} value={[0, 480]} steps={1440} />\n      <Slide className={`${PREFIX}-slide`} value={[0, 480]} steps={1440} />\n    </div>\n  );\n});\n\nexport default SchedulePanel;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport SchedulePanel from './Schedule';\n\nconst PREFIX = 'MeetPage';\n\ninterface IProps {\n  className?: string;\n}\n\nconst MeetPage: React.FC<IProps> = React.memo(function MeetPage(props) {\n  const { className } = props;\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <SchedulePanel />\n    </div>\n  );\n});\n\nexport default MeetPage;\n","import { IRoute } from './interface';\nimport { find } from 'lodash';\n\nexport const recoverPath: (currentRoute?: IRoute, childRoutes?: IRoute[]) => string = (\n  currentRoute,\n  childRoutes,\n) => {\n  if (currentRoute && childRoutes?.length) {\n    const matchedChildRoute = find(\n      childRoutes,\n      (route) => route.path === currentRoute?.lastChildRoutePath,\n    );\n\n    const nextRoute = matchedChildRoute || childRoutes[0];\n    return recoverPath(nextRoute, nextRoute.children);\n  }\n  return currentRoute?.path || '';\n};\n","import { IRoute } from './interface';\nimport { Redirect, Route, RouteComponentProps, RouteProps, Switch } from 'react-router-dom';\nimport { map } from 'lodash';\nimport { recoverPath } from './util';\nimport React from 'react';\nimport { homePath } from '.';\n\ntype IRouteWithLayoutProps = Omit<RouteProps, 'component' | 'render' | 'children'> & {\n  childrenRender: React.ReactNode;\n  childRoutes?: IRoute[];\n  parentRoute?: IRoute;\n  route?: IRoute;\n} & Partial<IRoute>;\n\nconst RedirectRoute: React.FC<\n  Partial<RouteComponentProps> & {\n    routes?: IRoute[];\n    route?: IRoute;\n  }\n> = React.memo(function ({ route, routes, location }) {\n  const { pathname } = location || {};\n  const redirectUrl = recoverPath(route, routes);\n  if (redirectUrl !== pathname) {\n    return <Redirect to={redirectUrl || homePath} />;\n  }\n  return <Redirect to={homePath} />;\n});\n\nexport const renderRouterWithChildren = (\n  route: IRoute | undefined,\n  children?: IRoute[],\n  parentRoute?: IRoute,\n) => {\n  const childrenRender = children ? (\n    <Switch>\n      {map(children, (child, index) => {\n        return renderRouterWithChildren(child, child.children, route);\n      })}\n      <RedirectRoute routes={children} route={route} />\n    </Switch>\n  ) : null;\n\n  return (\n    <CustomerRoute\n      childrenRender={childrenRender}\n      {...route}\n      route={route}\n      parentRoute={parentRoute}\n      childRoutes={children}\n    />\n  );\n};\n\nconst CustomerRoute: React.FC<IRouteWithLayoutProps> = React.memo(function CustomerRoute(props) {\n  const {\n    childrenRender,\n    route,\n    parentRoute,\n    childRoutes,\n    layout: Layout,\n    layoutProps,\n    children,\n    component: RouterComponent,\n    ...restProps\n  } = props;\n\n  if (parentRoute && !parentRoute.ignoreCache) {\n    parentRoute.lastChildRoutePath = route?.path;\n  }\n  if (!route) {\n    return childrenRender as React.ReactElement;\n  }\n\n  if (!childRoutes) {\n    if (RouterComponent) {\n      if (Layout) {\n        return (\n          <PrivateRoute\n            {...restProps}\n            render={() => (\n              <Layout route={route} {...layoutProps}>\n                <RouterComponent {...restProps} />\n              </Layout>\n            )}\n          />\n        );\n      }\n      return <PrivateRoute {...restProps} render={() => <RouterComponent {...restProps} />} />;\n    }\n  }\n\n  if (childRoutes) {\n    if (Layout) {\n      return (\n        <PrivateRoute\n          {...restProps}\n          render={() => (\n            <Layout childRoutes={childRoutes} route={route} {...layoutProps}>\n              {childrenRender}\n            </Layout>\n          )}\n        />\n      );\n    }\n  }\n  return childrenRender as React.ReactElement;\n});\ntype PrivateRouteProps = Required<Pick<RouteProps, 'render'>> &\n  Omit<RouteProps, 'component' | 'render'>;\nexport const PrivateRoute = ({ render, ...rest }: PrivateRouteProps) => {\n  return <Route {...rest} render={render} />;\n};\n","import { Link } from 'react-router-dom';\nimport { find } from 'lodash';\nimport { useLocation } from 'react-router';\nimport React, { useMemo } from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport { IRoute } from '../../../router/interface';\n\nconst PREFIX = 'Mavigator';\n\ninterface IProps {\n  className?: string;\n  childRoutes: IRoute[];\n}\n\nconst useRouterPathMatch = (routers: IRoute[]) => {\n  const location = useLocation();\n  const router = useMemo(() => {\n    return find(routers, (router) => location.pathname.includes(router.path));\n  }, [location.pathname, routers]);\n  return router?.path;\n};\n\nconst Mavigator: React.FC<IProps> = React.memo(function AppThirdNavigator(props) {\n  const { className, childRoutes } = props;\n  const matchedPath = useRouterPathMatch(childRoutes);\n\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      {childRoutes.map((router) =>\n        matchedPath === router.path ? (\n          <span className={cls(`${PREFIX}-item`, 'is-active')}>\n            {router.name}\n            <div className={`${PREFIX}-activeBar`} />\n          </span>\n        ) : (\n          <Link className={cls(`${PREFIX}-item`)} key={router.path} to={router.path}>\n            {router.name}\n            <div className={`${PREFIX}-activeBar`} />\n          </Link>\n        ),\n      )}\n    </div>\n  );\n});\n\nexport default Mavigator;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport { IRoute } from '../../router/interface';\nimport Navigator from './Navigator';\n\nconst PREFIX = 'Layout';\n\ninterface IProps {\n  title?: React.ReactNode;\n  route?: IRoute;\n  childRoutes: IRoute[];\n}\n\nconst Layout: React.FC<IProps> = React.memo(function Layout(props) {\n  const { title, childRoutes, children } = props;\n  return (\n    <div className={cls(`${PREFIX}`)}>\n      <div className={`${PREFIX}-head`}>\n        <span className={`${PREFIX}-headTitle`}>{title}</span>\n      </div>\n      <div className={`${PREFIX}-body`}>\n        <div className={`${PREFIX}-bodyLeft`}>\n          <Navigator childRoutes={childRoutes} />\n        </div>\n        <div className={`${PREFIX}-bodyRight`}>{children}</div>\n      </div>\n    </div>\n  );\n});\n\nexport default Layout;\n","import React, { useState } from 'react';\nimport cls from 'classnames';\nimport './index.less';\n\nconst PREFIX = 'Folder';\n\ninterface IProps {\n  className?: string;\n}\n\nconst Folder: React.FC<IProps> = React.memo(function Folder(props) {\n  const { className, children } = props;\n  const [fold, setFold] = useState<boolean>(false);\n  const handleFold = () => {\n    setFold((prev) => !prev);\n  };\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <div className={`${PREFIX}-foldBtn`} onClick={handleFold}>\n        {fold ? '展开' : '收起'}\n      </div>\n      {!fold ? <div className={`${PREFIX}-body`}>{children}</div> : null}\n    </div>\n  );\n});\n\nexport default Folder;\n","import React from 'react';\nimport cls from 'classnames';\nimport './index.less';\nimport Folder from '../Layout/Folder';\n\nconst PREFIX = 'MdView';\n\ninterface IProps {\n  className?: string;\n  md?: string;\n  view?: React.ReactNode;\n}\n\nconst MdView: React.FC<IProps> = React.memo(function MdView(props) {\n  const isDevelopment = process.env.NODE_ENV === 'development';\n  const { className, md, view } = props;\n  return (\n    <div className={cls(`${PREFIX}`, className)}>\n      <Folder className={`${PREFIX}-body`}>{view}</Folder>\n      {md && (\n        <Folder className={`${PREFIX}-md`}>\n          <div dangerouslySetInnerHTML={{ __html: md }}></div>\n        </Folder>\n      )}\n    </div>\n  );\n});\n\nexport default MdView;\n","import home from '../md/home/index.md';\nimport useEffect from '../md/useEffect/index.md';\nimport UseEffectView from '../md/useEffect';\nimport useContext from '../md/useContext/index.md';\nimport UseContextView from '../md/useContext';\nimport Meet from '../md/meet';\nimport { Switch, Redirect, BrowserRouter } from 'react-router-dom';\nimport { renderRouterWithChildren } from './routeWithLayout';\nimport Layout from '../components/Layout';\nimport React from 'react';\nimport MdView from '../components/MdView';\nimport { IRoute } from './interface';\n\nconst WEB_ROOT = process.env.WEB_ROOT || '/';\n\nfunction getPath(path: string) {\n  return `${WEB_ROOT}${path}`;\n}\n\nexport const homePath = getPath('/home');\nconst routes: IRoute[] = [\n  {\n    path: WEB_ROOT,\n    layout: Layout,\n    layoutProps: { title: '' },\n    ignoreCache: true,\n    children: [\n      // {\n      //   path: homePath,\n      //   name: 'home',\n      //   component: () => <MdView md={home} />,\n      // },\n      // {\n      //   path: getPath('/useEffect'),\n      //   name: 'useEffect',\n      //   component: () => <MdView md={useEffect} view={<UseEffectView />} />,\n      // },\n      // {\n      //   path: getPath('/useContext'),\n      //   name: 'useContext',\n      //   component: () => <MdView md={useContext} view={<UseContextView />} />,\n      // },\n      {\n        path: getPath('/meet'),\n        name: 'useContext',\n        component: () => <MdView view={<Meet />} />,\n      },\n    ],\n  },\n];\n\nconst RootRouter = () => {\n  return (\n    <BrowserRouter>\n      <Switch>\n        {renderRouterWithChildren(undefined, routes)}\n        <Redirect to={homePath} />\n      </Switch>\n    </BrowserRouter>\n  );\n};\n\nexport default RootRouter;\n","import React from 'react';\nimport RootRouter from './router';\nimport './index.less';\n\nconst App: React.FC = React.memo(function App(props) {\n  return <RootRouter />;\n});\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport Demo from './md/useContext/scene/demo';\n\nReactDOM.render(<App />, document.getElementById('root'));\n// ReactDOM.render(<Demo />, document.getElementById('root'));\n"],"sourceRoot":""}